## Summary

This PR implements the forgot password and reset password functionality to resolve #23.

## Changes Made

### Backend (API Routes)
- ✅ **POST /api/auth/forgot-password** - Requests password reset email
  - Validates email format
  - Calls Supabase resetPasswordForEmail()
  - Always returns same success message (email enumeration protection)
  - Environment-based redirect URLs
  
- ✅ **POST /api/auth/reset-password** - Completes password reset
  - Validates new password strength
  - Verifies reset token from Supabase session
  - Updates password via Supabase
  - Automatically invalidates all user sessions

### Frontend (Pages)
- ✅ **/forgot-password page**
  - Email input with validation
  - Success message display
  - 60-second cooldown timer (client-side rate limiting)
  - Responsive design with dark mode support
  
- ✅ **/reset-password page**
  - Token validation on page load
  - Password input with strength indicator
  - Confirm password validation
  - Error handling for invalid/expired tokens
  - Automatic redirect to login after success

### Validation & Tests
- ✅ Added forgotPasswordSchema and resetPasswordSchema to auth.ts
- ✅ Comprehensive unit tests for validation schemas (15+ test cases)
- ⏳ Integration tests (pending - no test runner configured)
- ⏳ E2E tests (pending - no test runner configured)

### Security Features
- ✅ **Email enumeration protection** - Always returns same success message
- ✅ **Token security** - 1-hour expiration, single-use (via Supabase)
- ✅ **Session invalidation** - All sessions logged out on password change
- ✅ **Client-side rate limiting** - 60-second cooldown between requests
- ✅ **Strong password requirements** - Enforced via Zod schema

## Manual Testing Required

### Setup
1. Add NEXT_PUBLIC_APP_URL=http://localhost:3000 to .env.local
2. Configure Supabase email template for password reset (if not already done)
3. Add redirect URL in Supabase dashboard for all environments

### Test Cases
- [ ] Navigate to login → click "Forgot password?" link
- [ ] Enter valid email → verify success message
- [ ] Check email inbox for reset link
- [ ] Click reset link → verify redirect to reset-password page
- [ ] Enter new password → submit → verify redirect to login
- [ ] Login with new password → verify success
- [ ] Login with old password → verify failure

### Edge Cases
- [ ] Invalid email format → verify inline error
- [ ] Non-existent email → verify same success message (security)
- [ ] Rapid submissions → verify cooldown timer
- [ ] Expired token → verify error page with action
- [ ] Weak password → verify strength indicator + errors

## Build Status
✅ Build passes: npm run build successful  
✅ Linting: No errors in new files  
⏳ Tests: Test runner not configured (noted for future work)

## Documentation
Complete implementation documentation available in:
- .cursor/doc/forgot_password/IMPLEMENTATION_PLAN.md
- .cursor/doc/forgot_password/backend_advice.md
- .cursor/doc/forgot_password/frontend_advice.md

## Notes
- i18n messages are hardcoded in English for MVP (can be extracted to message files later)
- Test runner setup needed for integration and E2E tests
- Manual Supabase configuration required (documented in PR)

Resolves #23

